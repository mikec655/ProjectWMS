<form class="form-register" [formGroup]="registerForm" (ngSubmit)="onSubmit()">

  <h1 class="h3 mb-3 font-weight-normal">Register</h1>
  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <input matInput formControlName="firstname" id="inputFirstname" type="text" placeholder="Firstname" required="" name="firstname" minLength="2" pattern="^[A-Za-z-. ]+$" />
      <mat-label>Firstname</mat-label>

      <mat-error *ngIf="f.firstname.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.firstname.hasError('pattern')">Please enter a valid value</mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <input matInput formControlName="lastname" id="inputLastname" type="text" placeholder="Lastname" required="" name="lastname" minLength="2" pattern="^[A-Za-z-. ]+$" />
      <mat-label>Lastname</mat-label>

      <mat-error *ngIf="f.lastname.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.lastname.hasError('pattern')">Please enter a valid value</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <mat-select formControlName="gender" id="inputGender" placeholder="Gender" required="" name="gender" minLength="2">
        <mat-option value="M" selected>Male</mat-option>
        <mat-option value="V">Female</mat-option>
        <mat-option value="O">Other</mat-option>
      </mat-select>
      <mat-label>Gender</mat-label>

      <mat-error *ngIf="f.gender.hasError('required')">This field is required</mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill">
      <input matInput formControlName="birthDate" id="inputBirthDate" type="date" placeholder="" required="" name="birthDate" minLength="2" />
      <mat-label>Birth Date</mat-label>

      <mat-error *ngIf="f.birthDate.hasError('required')">This field is required</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper" style="display: flex; flex-direction: row; align-items: stretch; width: 100%;">
    <mat-form-field appearance="fill" style="min-width: 77%; max-width: 80%;">
      <input matInput formControlName="street" id="inputStreet" type="text" placeholder="Street" required="" name="street" minLength="2" pattern="^[A-Za-z-. ]+$" />
      <mat-label>Street</mat-label>

      <mat-error *ngIf="f.street.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.street.hasError('pattern')">Please enter a valid value</mat-error>
    </mat-form-field>
    <mat-form-field appearance="fill" style="max-width: 20%; min-width: 20%;">
      <input matInput formControlName="number" id="inputNumber" type="text" placeholder="Number" required="" name="lastname" minLength="2" pattern="^[0-9A-Za-b- ]+$" />
      <mat-label>No.</mat-label>

      <mat-error *ngIf="f.number.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.number.hasError('pattern')">Please enter a valid house number</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <input matInput formControlName="zipCode" id="inputZipCode" type="text" placeholder="Zip Code" required="" name="zipCode" minLength="2" pattern="^[0-9]{4}[A-Z]{2}$" />
      <mat-label>Zip Code</mat-label>

      <mat-error *ngIf="f.zipCode.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.zipCode.hasError('pattern')">Please enter a valid ZipCode</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <input matInput formControlName="city" id="inputCity" type="text" placeholder="City" required="" name="city" minLength="2" pattern="^[A-Za-z-. ]+$" />
      <mat-label for="inputCity">City</mat-label>

      <mat-error *ngIf="f.city.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.city.hasError('pattern')">Please enter a valid value</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <input matInput formControlName="email" id="inputEmail" type="email" placeholder="Email address" required="" name="email" minLength="12" pattern="^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Za-z]{2,}$" />
      <mat-label for="inputEmail">Email address</mat-label>

      <mat-error *ngIf="f.email.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.email.hasError('pattern')">Please enter a valid email</mat-error>
      <mat-error *ngIf="f.email.hasError('conflict')">Email already exists, please login</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <input matInput formControlName="password" id="inputPassword" type="password" placeholder="Password" required="" name="password" />
      <mat-label for="inputPassword">Password</mat-label>

      <mat-error *ngIf="f.password.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.password.hasError('minlength')">Password must be {{f.password.errors.minlength.requiredLength}} characters or longer</mat-error>
    </mat-form-field>

    <mat-form-field appearance="fill">
      <input matInput formControlName="repeatPassword" id="inputRepeatPassword" type="password" placeholder="Repeat Password" required="" name="repeatPassword" />
      <mat-label for="inputRepeatPassword">Repeat Password</mat-label>

      <mat-error *ngIf="f.repeatPassword.hasError('required')">This field is required</mat-error>
      <mat-error *ngIf="f.repeatPassword.hasError('mustMatch')">Passwords must match</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper">
    <mat-form-field appearance="fill">
      <textarea matInput rows="5" formControlName="profileDescription" id="inputProfileDescription" type="text" placeholder="Profile Description" required="" name="profileDescription">
      </textarea>

      <mat-error *ngIf="f.repeatPassword.hasError('required')">This field is required</mat-error>
    </mat-form-field>
  </p>

  <p class="form-field-wrapper" style="justify-content:center;">
    <button mat-raised-button class="btn-primary btn-block submit-button" type="submit" (click)="onClick()" style="margin-bottom: 10px" color="primary">Create Account</button>
  </p>
  <p style="text-align:center">Already have an account <a [routerLink]="['/login']"> Sign-in</a></p>
</form>

